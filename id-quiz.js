        const questions = [
            {
                question: "Kamu tersesat di hutan tanpa peralatan apa pun. Bagaimana caramu mencari jalan keluar?",
                image: "question image/1.png",
                options: [
                    { text: "Jalan maju saja terus—nanti juga sampai!", 
                        value: "Assavadevathin"},
                    { text: "Cari sungai dan ikuti arah arusnya", 
                        value: "Davichmetha" },
                    { text: "Melihat arah dari matahari, bintang, dan bulan", 
                        value: "Meenanagarin" },
                    { text: "Memeriksa tanaman di sekelilingku dan menentukan arah dengan bantuan lumut", 
                        value: "Bhuchongpisut" },
                ]
            },
            {
                question: "Kamu lagi ulang tahun, paling senang kalau menerima hadiah apa?",
                image: "question image/2.png",
                options: [
                    { text: "Pangan fungsional yang menyehatkan",  
                        value: "Bhuchongpisut" },
                    { text: "Gadget terbaru", 
                        value: "Davichmetha" },
                    { text: "Seekor unicorn", 
                        value: "Assavadevathin" },
                    { text: "Sebuah teropong", 
                        value: "Meenanagarin" },
                ]
            },
            {
                question: "Bunga kesukaanmu apa?",
                image: "question image/3.png",
                options: [
                    { text: "Melati", 
                        value: "Assavadevathin" },
                    { text: "Bunga lonceng", 
                        value: "Davichmetha" },
                    { text: "Kamboja", 
                        value: "Assavadevathin" },
                    { text: "Hortensia", 
                        value: "Meenanagarin" },
                    { text: "Mawar", 
                        value: "Bhuchongpisut" },
                    { text: "Bunga sepatu", 
                        value: "Davichmetha" },
                    { text: "Bakung", 
                        value: "Assavadevathin" },
                    { text: "Aku cinta semua bunga", 
                        value: "Bhuchongpisut" },
                    { text: "Aku tidak terlalu suka bunga ...", 
                        value: "Meenanagarin" },
                ]
            },
            {
                question: "Kamu akan membeli sofa. Hal apa yang paling membuatmu tertarik?",
                image: "question image/4.png",
                options: [
                    { text: "Sofa kulit, adem kalau dipegang", 
                        value: "Bhuchongpisut" },
                    { text: "Sofa kain yang lembut tekstur permukaannya", 
                        value: "Assavadevathin" },
                    { text: "Tekturnya tidak masalah, tetapi warna dan desainnya harus bagus", 
                        value: "Davichmetha" },
                    { text: "Penampilannya tidak masalah, tetapi harus empuk dan nyaman untuk duduk", 
                        value: "Meenanagarin" },
                ]
            },
            {
                question: "Kalau kamu bisa punya satu kekuatan super, kekuatan apa yang akan kamu pilih?",
                image: "question image/5.png",
                options: [
                    { text: "Menyembuhkan segala penyakit", 
                        value: "Bhuchongpisut" },
                    { text: "Terbang", 
                        value: "Davichmetha" },
                    { text: "Melihat dengan jelas di kegelapan", 
                        value: "Meenanagarin" },
                    { text: "Teleportasi",
                        value: "Assavadevathin" },
                    { text: "Berbicara dengan hewan", 
                        value: "Assavadevathin" },
                ]
            },
            {
                question: "Siapa yang paling kamu percayai?",
                image: "question image/6.png",
                options: [
                    { text: "Keluarga", 
                        value: "Meenanagarin" },
                    { text: "Teman", 
                        value: "Meenanagarin" },
                    { text: "Kekasih", 
                        value: "Bhuchongpisut" },
                    { text: "Anak buah", 
                        value: "Assavadevathin" },
                    { text: "Mentor", 
                        value: "Davichmetha" },
                ]
            },
            {
                question: "Kamu sedang jalan-jalan malam di Emmaly, dan ada orang mencurigakan yang mengikutimu. Apa yang akan kamu lakukan?",
                image: "question image/7.png",
                options: [
                    { text: "Tetap jalan terus saja—sepertinya mereka tidak akan mencoba menyakitiku. Tetapi kalaupun iya, aku siap kok", 
                        value: "Assavadevathin" },
                    { text: "Konfrontasi langsung terang-terangan—mereka mau ngapain pun aku siap", 
                        value: "Bhuchongpisut" },
                    { text: "Meminta tolong pada orang asing yang aku temukan di jalan", 
                        value: "Meenanagarin" },
                    { text: "Menyambungkan ponselku ke speaker terdekat dan menyalakan suara alarm untuk mengusir orang itu", 
                        value: "Davichmetha" },
                    { text: "Pergi ke pasar malam terdekat yang masih ramai dan menunggu hingga keadaan aman", 
                        value: "Davichmetha" },
                ]
            },
            {
                question: "Kamu merasa lelah sekali setelah hari yang panjang. Apa yang kamu lakukan terlebih dahulu?",
                image: "question image/8.png",
                options: [
                    { text: "Langsung ke kasur yang empuk", 
                        value: "Assavadevathin" },
                    { text: "Siapkan mandi air hangat dan berendam", 
                        value: "Meenanagarin" },
                    { text: "Mampir dulu ke tukang pijat untuk pijat relaksasi", 
                        value: "Davichmetha" },
                    { text: "Makan malam lalu minum vitamin dan suplemen", 
                        value: "Bhuchongpisut" },
                ]
            },
            {
                question: "Kencan idealmu seperti apa? (Terinspirasi dari tweet-nya P'Den :3 )",
                image: "question image/9.png",
                options: [
                    { text: "Olahraga kesukaan kita, lawan satu sama lain kayaknya asyik juga? P balap", 
                        value: "Davichmetha" },
                    { text: "Quality time di rumah, berduaan saja", 
                        value: "Bhuchongpisut" },
                    { text: "Mengunjungi situs sejarah dan mempelajari lebih lanjut tentang budaya Emmaly", 
                        value: "Meenanagarin" },
                    { text: "Naik kuda dan piknik outdoor romantis", 
                        value: "Assavadevathin" },
                ]
            },
            {
                question: "Mata pelajaran favoritmu?",
                image: "question image/10.png",
                options: [
                    { text: "Matematika", 
                        value: "Davichmetha" },
                    { text: "Kimia", 
                        value: "Bhuchongpisut" },
                    { text: "Fisika", 
                        value: "Davichmetha" },
                    { text: "Biologi", 
                        value: "Assavadevathin" },
                    { text: "Sejarah", 
                        value: "Meenanagarin" },
                    { text: "Sosiologi", 
                        value: "Meenanagarin" },
                    { text: "Geografi", 
                        value: "Bhuchongpisut" },
                    { text: "Bahasa", 
                        value: "Meenanagarin" },
                    { text: "Penjaskes (pendidikan jasmani, olahraga, dan kesehatan)", 
                        value: "Assavadevathin" },
                ]
            },
            {
                question: "Kamu paling ingin liburan di mana?",
                image: "question image/11.png",
                options: [
                    { text: "Gubuk di tepi pantai", 
                        value: "Meenanagarin" },
                    { text: "Vila aesthetic di gunung", 
                        value: "Bhuchongpisut" },
                    { text: "Di pedesaan yang banyak sawah, kebun, dan peternakannya", 
                        value: "Assavadevathin" },
                    { text: "Di perkotaan yang banyak pilihan kuliner dan pusat perbelanjaannya", 
                        value: "Davichmetha" },
                ]
            },
        ];

        const emmalyHouses = {
            "Assavadevathin": {
                name: "Assavadevathin",
                image: "result/EN Assavadevathin.png",
                color: "golden" //these "colors" are from Gemini's template, but they aren't actually used
            },
            "Bhuchongpisut": {
                name: "Bhuchongpisut",
                image: "result/EN Bhuchongpisut.png",
                color: "green"
            },
            "Davichmetha": {
                name: "Davichmetha",
                image: "result/EN Davichmetha.png",
                color: "pink"
            },
            "Meenanagarin": {
                name: "Meenanagarin",
                image: "result/EN Meenanagarin.png",
                color: "blue"
            },
        };

let currentQuestionIndex = 0;
let answers = [];

        //const questionContainer = document.getElementById('question-container');
        //const questionTextElement = document.getElementById('question-text');
        //const answerOptionsElement = document.getElementById('answer-options');
        const nextButton = document.getElementById('next-button');
        const resultsContainer = document.getElementById('results-container');
        const emmalyHouseResultElement = document.getElementById('emmaly-house-result');
        const resultsImageElement = document.getElementById('result-image');
        const restartButton = document.getElementById('restart-button');
        //const houseBannerElement = document.getElementById('house-banner');

function displayQuestion() {
    const questionTextElement = document.getElementById('question-text');
    const questionImageElement = document.getElementById('question-image');
    const answerOptionsElement = document.getElementById('answer-options');
    const currentQuestion = questions[currentQuestionIndex];
    questionTextElement.textContent = currentQuestion.question;
    questionImageElement.innerHTML = `<img src="${currentQuestion.image}" alt="Pertanyaan ${currentQuestion + 1}" height="200">`;
    answerOptionsElement.innerHTML = '';

    currentQuestion.options.forEach(option => {
        const button = document.createElement('button');
        button.textContent = option.text;
        button.className = "btn barlow-medium answer-options-button";
        button.addEventListener('click', () => handleAnswer(option.value));
        answerOptionsElement.appendChild(button);
        });

        nextButton.disabled = true;
        nextButton.disabled = answers.length <= currentQuestionIndex;
        nextButton.classList.toggle('opacity-50', nextButton.disabled);
}

document.getElementById('start-button').addEventListener('click', function() {
    document.getElementById('quiz-start-page').style.display = 'none';
    document.getElementById('quiz').style.display = 'block';
    document.getElementById('results-container').style.display = 'none';
    displayQuestion();
});


function handleAnswer(answer) {
    answers.push(answer);
    nextButton.disabled = false;
    nextButton.classList.remove('opacity-50');
}

function calculateEmmalyHouse() {
    let houseCounts = {
        "Assavadevathin": 0,
        "Bhuchongpisut": 0,
        "Davichmetha": 0,
        "Meenanagarin": 0
    };
    answers.forEach(answer => {
        houseCounts[answer]++;
    });

    let sortedHouses = Object.entries(houseCounts).sort(([, countA], [, countB]) => countB - countA);
    return sortedHouses[0][0];
}

function showResults() {
    document.getElementById('quiz-start-page').style.display = 'none';
    document.getElementById('quiz').style.display = 'none';
    document.getElementById('results-container').style.display = 'block';

    const emmalyHouse = calculateEmmalyHouse();
    const houseData = emmalyHouses[emmalyHouse] || {
        name: "Unknown",
        description: "No matching Emmaly house found.",
        color: ""
    };
    emmalyHouseResultElement.textContent = houseData.name;
    resultsImageElement.innerHTML = `<img src="${houseData.image}" alt="${houseData.name}" width="100%">`;
    //houseBannerElement.className = `house-banner rounded-t-md ${houseData.color}`;
    //emmalyHouseResultElement.className = houseData.color; 
}

function nextQuestion() {
    if (currentQuestionIndex < questions.length - 1) {
        currentQuestionIndex++;
        displayQuestion();
    } else {
        showResults();
        }
    }

function restartTest() {
    currentQuestionIndex = 0;
    answers = [];
    document.getElementById('quiz-start-page').style.display = 'none';
    document.getElementById('quiz').style.display = 'block';
    document.getElementById('results-container').style.display = 'none';
    displayQuestion();
}

nextButton.addEventListener('click', nextQuestion);
restartButton.addEventListener('click', restartTest);

displayQuestion();
